OTIKRD (Radius External)
-----------------------------------
พัฒนาโดย อำนวย ปิ่นทอง / บริษัท โอติกเน็ตเวิร์ค จำกัด

******************************************
ความต้องการของระบบ / Requirement
******************************************
OS : Ubuntu 20.04 server และต้องใช้สิทธิ์เป็น root
CPU : 1.4 GHz 64-bit CPU minimum
RAM : ขั้นต่ำ 512 MB
Storage : ขั้นต่ำ 50Gb

******************************************
ฟีเจอร์ที่รองรับ / Features
******************************************
- สามารถกำหนดแพ็คเกตเองได้ Profile)
- สามารถสร้าง Account ได้แบบ One / Batch
- สามารถตรวจสอบผู้ใช้ที่ออนไลน์อยู่ ณ ปัจจุบันได้ (User Online)
- สามารถนำเข้าผู้ใช้จาก csv ไฟล์ได้ (กรณีนำไปใช้กับโรงเรียน นำเข้ารายชื่อนักเรียน พร้อมรหัสผ่าน เป็นต้น)



** การติดตั้ง **
root@otikrad:/# cd /tmp
root@otikrad:/tmp# git clone https://github.com/npintong/otikrd.git
root@otikrad:/tmp# cd otikrd/
root@otikrad:/tmp/otikrd# chmod 777 setup.sh 
root@otikrad:/tmp/otikrd# ./setup.sh 


สำหรับการเชื่อมต่อกับ MikroTik ให้ใช้ คีย์ Secret key = Otik@Secret

การตั้งค่าใช้งานบน MikroTik

** ขั้นตอนการเพิ่มโอติกอาร์ดี **

1. เปิด WinBox ไปที่เมนู (ซ้ายมือ) => RADIUS
2. คลิกเครื่องหมายบวก [+] ตรงแท็บ General ให้ทำเครื่องหมายถูกที่ hotspot
3. ที่ช่อง address ให้ใส่ไอพีของโอติกอาร์ดีเซิร์ฟเวอร์ เช่น ของผมเบอร์ 192.168.98.45 เป็นต้น
4. ที่ช่อง Secret ให้กรอก Otik@Secret 
5. ตรงช่อง Timeout ให้เปลี่ยนตัวเลขจาก 300 เป็นเลข 3000
6. เสร็จแล้วคลิกที่ปุ่ม OK เป็นอันเสร็จขั้นตอนนี้

** ขั้นตอนการกำหนดให้ hotspot มาใช้บัญชีบน โอติกอาร์ดี **
1. ไปที่เมนู IP => Hotspot (บนไมโครติก)
2. ไปทีแท็บ Server Profiles => เลือกโปรไฟล์ที่คุณต้องการใช้งาน เช่น hsprof1 เป็นต้น
3. จากนั้นคลิกที่แท็บ Login ตรงช่อง Login By ให้เลือก HTTP CHAP และ MAC Cookie (ให้เอาช่อง Cookie ออกด้วยนะครับ)
4. จากนั้นที่แท็บ RADIUS ให้ทำเครื่องหมายถูกที่หน้า Use RADIUS (ทำเครื่องหมายถูก คือเปิดใช้งานให้ไปอ่านบัญชีบน FreeRADIUS ของเรา)
5. จากนั้นเสร็จแล้วคลิก OK เป็นอันเสร็จ ให้ลองใช้งานได้เลย


** เพิ่มฟังก์ชั่นการแจ้งเตือนผ่านไลน์ 08-08-2566 11.05 **
1. ให้ไปที่ OTIKRD จากนั้นไปไปที่แท็บ ตั้งค่าการแจ้งเตือน
2. กำหนด Token ของไลน์ ดูวีดีโอตัวอย่าง
3. กำหนดข้อความที่ต้องการแสดง
4. สามารถเปิด ปิด การใช้งานได้ ที่ตัวเลือก การใช้งาน เปิด หรือ ปิด

** เพิ่มหน้าลงทะเบียนสำหรับผู้ใช้งานทั่วไป ให้ลงทะเบียนเองได้ **


คลิปสอนการติดตั้งบน Ubuntu และการใช้งานเบื้องต้น
https://youtu.be/1cM31V_QtYs

คลิปสอนการตั้งค่าบนไมโครติก
https://www.youtube.com/watch?v=w54ED-56G6Q